# 用的wsl2，所以~/.bashrc里面初始化了很多内容，敲完make+一个空格命令后，再按2个tab，不能自动补全当前目录下的文件名
# 运行“bash --norc --noprofile”，bash变为“bash-5.2$", 此时可以自动补全
#下面的内容是使用Makefile实现通用功能：

CC = gcc
CFLAGS = -Wall
LDFLAGS = -lm

# 查找所有 .c 文件
SRC = $(wildcard *.c)

# 生成对应的可执行文件名称（去掉 .c 扩展）
TARGETS = $(basename $(SRC))

OBJ = $(SRC:.c=.o)

# 规则：编译所有目标
all: $(TARGETS)

$(TARGETS): $(OBJ)
	$(CC) $(OBJ) -o $(TARGETS) $(LDFLAGS)

# 通用编译规则
%.o: %.c
	$(CC) $(CFLAGS) -c $< -o $@

clean:
	rm -f $(OBJ) $(TARGETS)
